<!DOCTYPE html>
<html>

    <head>
        <meta charset=utf-8 />
        <title>
             邓彪的博客   
            
        </title>
        <link rel="shortcut icon" type="image/ico" href="/assets/images/portrait.jpg">
        <link rel="stylesheet" href="/assets/css/clear.css" />
        
        <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="/assets/css/default.css" />
        <link rel="stylesheet" href="/assets/css/pygments.css" />
        <script src="/assets/js/jquery-1.10.2.min.js"></script>

    </head>

    <body>
        <div id="container main">
            <header>
            <div class="info">
                <div class="logo">
                    <a href="/pages/about.html"><img class="portrait img-circle" src="/assets/images/portrait.jpg" /></a>
                </div>
                <h1><a href="/">邓彪的博客</a></h1>
                <div class="motto">有一种东西叫做梦想</div>
            </div>
            <form method="get" action="http://www.google.com.hk/search" id="search-form">
                <div class="input-group input-group-sm header_search">
                    <input type="text" id="search-query" name="q" id="s" autocomplete="on" class="form-control" placeholder="Search">
                    <span class="input-group-addon text" >
                        <input type="submit" name="btnG" value="搜索" id="search-btn">
                    </span>
                    <input type="hidden" name="ie" value="UTF-8">
                    <input type="hidden" name="oe" value="UTF-8">
                    <input type="hidden" name="hl" value="zh-CN">
                    <input type="hidden" name="domains" value="dengbiao.github.io">
                    <input type="hidden" name="sitesearch" value="dengbiao.github.io">
                </div>
            </form>

            <ul class="sidelist">
                <li><a href="http://dengbiao.github.io/atom.xml" class="rss" title="订阅"></a></li>
                <li><a href="http://dengbiao.github.io/pages/archive.html" class="archive" title="归档"></a></li>
            </ul>
            </header>

            <article>
            <div class="page_container">
    <div class="date">
        <span class="day">
            22
        </span>
        <span class="month">
            01
        </span>
    </div>
    <div class="page_item">
        
        <div class="title">
            <h1><a href="/ubuntu/process/manager/2014/01/22/ubuntu-process-manager.html"></a></h1>
        </div>
        
        
        <div class="page_content">
            <p><h3 id="ubuntu">ubuntu进程管理方法</h3>

<p>转自：<a href="http://www.cnblogs.com/xinzaibing/archive/2012/03/24/2415434.html">http://www.cnblogs.com/xinzaibing/archive/2012/03/24/2415434.html</a></p>

<pre><code>ps 显示当前进程  
ps -l 显示详细信息   
ps -u 以用户的格式显示</code></pre>

<h4 id="">相关字段说明</h4>

<pre><code>VF 进程状态标志   
S 进程状态代码   
UID 进程执行者ID   
PPID 父进程标识(parent process ID)   
PRI 进程执行的优先级(priority)   
NI 进程执行优先级的nice值,负值表示其优先级较高   
SZ 进程占用的内存大小   
WCHAN 进程或系统调用等待时的地址  
%CPU cpu使用百分比   
%MEM 内存使用百分比   
VSZ 占用虚拟内存大小   
RSS 占用物理内存大小   
START 进程开始时间</code></pre>
<!--more-->
<h4 id="kill_">kill 删除进程</h4>

<pre><code>kill pid 删除指定pid的进程   
kill -l 查看所有可供传送的信号   
kill -9 pid 强制删除进程,传送的是SIGKILL信号   
kill -15 pid 强制删除进程,传送的是SIGTERM信号   
kill -HUP pid 重启Deamon进程  </code></pre>

<h4 id="free_">free 查看内存使用状态</h4>

<pre><code>free -s 10 每10秒检查内存使用情况   
nice 设置执行优先级,-20~19,19最低  
sudo nice -2 vi 将vi的优先级调为-2   
renice 修改执行优先级,-20~19,19最低  </code></pre>

<h4 id="top_">top 动态显示进程</h4>

<pre><code>按&quot;P&quot;键 按CPU使用时间排序   
按&quot;M&quot;键 按内存使用多少排序   
按&quot;T&quot;键 按执行时间多少排序   
按&quot;u&quot;键 监视特定用户   
按&quot;K&quot;键 删除进程   

top -d 10 指定更新时间   
lsof -p 查看进程打开的文件   
jobs 命令查看后台作业</code></pre>

<h4 id="ubuntu_2">ubuntu结束进程方法</h4>

<pre><code>1、打开终端  
2、敲 ps -ef 查出进程的编号（就是PID那列）  
3、敲 kill PID （如果PID是123456，则kill 123456）  
4、OK了</code></pre>

<p>在本地Ubuntu Linux系统运行大软件的时候，或者服务器长时间运行后，由于有些设计有缺陷的软件，容易出现假死的情况！</p>

<p>那程序假死了以后，我们该怎么办呢？其实这个 问题其实说简单也简单，直接结束进程不就OK了嘛！就像我们在Windows下面做的一样！下面来介绍几种Ubuntu Linux下面结束进程的几种方法！</p>

<h4 id="_2">最安全杀死进程的方法</h4>

<p>杀死进程最安全的方法是单纯使用kill命令，不加修饰符，不带标志。</p>

<p>首先使用ps -ef命令确定要杀死进程的PID，然后输入以下命令：</p>

<pre><code>kill -pid  </code></pre>

<p>注释：标准的kill命令通常都能达到目的。终止有问题的进程，并把进程的资源释放给系统。然而，如果进程启动了子进程，只杀死父进程，子进程仍在运行，因此仍消耗资源。为了防止这些所谓的”僵尸进程”，应确保在杀死父进程之前，先杀死其所有的子进程。</p>

<p>还可以使用如下命令来确定要杀死进程的PID或PPID</p>

<pre><code>ps -ef | grep httpd  </code></pre>

<p>以最优雅的方式来结束进程</p>

<pre><code>kill -l PID  </code></pre>

<p>-l选项告诉kill命令用好像启动进程的用户已注销的方式结束进程。当使用该选项时，kill命令也试图杀死所留下的子进程。但这个命令也不是总能成功–或许仍然需要先手工杀死子进程，然后再杀死父进程。</p>

<h4 id="term">TERM信号</h4>

<p>给父进程发送一个TERM信号，试图杀死它和它的子进程。</p>

<pre><code>kill -TERM PPID  
killall命令    
killall命令杀死同一进程组内的所有进程。其允许指定要终止的进程的名称，而非PID。  
killall httpd   </code></pre>

<h4 id="_3">停止和重启进程</h4>

<p>有时候只想简单的停止和重启进程。如下：</p>

<pre><code>kill -HUP PID  </code></pre>

<p>该命令让Linux和缓的执行进程关闭，然后立即重启。在配置应用程序的时候，这个命令很方便，在对配置文件修改后需要重启进程时就可以执行此命令。</p>

<pre><code>绝杀 kill -9 PID  
同意的 kill -s SIGKILL  </code></pre>

<p>这个强大和危险的命令迫使进程在运行时突然终止，进程在结束后不能自我清理。危害是导致系统资源无法正常释放，一般不推荐使用，除非其他办法都无效。</p>

<p>当使用此命令时，一定要通过<code>ps -ef</code>确认没有剩下任何僵尸进程。只能通过终止父进程来消除僵尸进程。如果僵尸进程被init收养，问题就比较严重了。杀死init进程意味着关闭系统。</p>

<p>如果系统中有僵尸进程，并且其父进程是init，而且僵尸进程占用了大量的系统资源，那么就需要在某个时候重启机器以清除进程表了</p></p> 
        </div>


        <div class="page_comments" id="page_comments">
            <!-- Duoshuo Comment BEGIN -->
            <div class="ds-thread" data-thread-key="/ubuntu/process/manager/2014/01/22/ubuntu-process-manager" data-title="" ></div>
            <script type="text/javascript">
                var duoshuoQuery = {short_name:"dengbiao"};
(function() {
 var ds = document.createElement('script');
 ds.type = 'text/javascript';ds.async = true;
 ds.src = 'http://static.duoshuo.com/embed.js';
 ds.charset = 'UTF-8';
 (document.getElementsByTagName('head')[0] 
  || document.getElementsByTagName('body')[0]).appendChild(ds);
 })();
</script>
<!-- Duoshuo Comment END -->
    </div>
    </div>
</div>
<div class="clear"></div>


            </article>

            <footer>
            <p>
            Copyright @ 2013-2015 dengbiao | All Rights Reserved. Powered by <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> and <a href="http://getbootstrap.com/" target="_blank" >Bootstrap</a>. 
            </p>
            </footer>

        </div>

        <! --- backToTop js  -->
        <script>
            (function() {
                var $backToTopTxt = "", $backToTopEle = $('<div class="backToTop"></div>').appendTo($("body"))
                .text($backToTopTxt).attr("title", $backToTopTxt).click(function() {
                    $("html, body").animate({ scrollTop: 0 }, 120);
                    }), $backToTopFun = function() {
                    var st = $(document).scrollTop(), winh = $(window).height();
                    (st > 0)? $backToTopEle.fadeIn('slow') : $backToTopEle.fadeOut('slow');
                    //IE6下的定位
                    if (!window.XMLHttpRequest) {
                        $backToTopEle.css("top", st + winh - 166);
                    }
                };
                $(window).bind("scroll", $backToTopFun);
                $(function() { $backToTopFun(); });
            })();
        </script>

        <! --- google analytics  -->
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-45239189-1', 'dengbiao.github.io');
            ga('send', 'pageview');

        </script>

    </body>

</html>
