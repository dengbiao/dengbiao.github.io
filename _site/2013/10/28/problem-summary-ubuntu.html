<!DOCTYPE html>
<html>

    <head>
        <meta charset=utf-8 />
        <title>
             邓彪的博客   
             | ubuntu问题汇总贴 
        </title>
        <link rel="shortcut icon" type="image/ico" href="/assets/images/portrait.jpg">
        <link rel="stylesheet" href="/assets/css/clear.css" />
        
        <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="/assets/css/default.css" />
        <link rel="stylesheet" href="/assets/css/pygments.css" />
        <script src="/assets/js/jquery-1.10.2.min.js"></script>

    </head>

    <body>
        <div id="container main">
            <header>
            <div class="info">
                <div class="logo">
                    <a href="/pages/about.html"><img class="portrait img-circle" src="/assets/images/portrait.jpg" /></a>
                </div>
                <h1><a href="/">邓彪的博客</a></h1>
                <div class="motto">有一种东西叫做梦想</div>
            </div>
            <form method="get" action="http://www.google.com.hk/search" id="search-form">
                <div class="input-group input-group-sm header_search">
                    <input type="text" id="search-query" name="q" id="s" autocomplete="on" class="form-control" placeholder="Search">
                    <span class="input-group-addon text" >
                        <input type="submit" name="btnG" value="搜索" id="search-btn">
                    </span>
                    <input type="hidden" name="ie" value="UTF-8">
                    <input type="hidden" name="oe" value="UTF-8">
                    <input type="hidden" name="hl" value="zh-CN">
                    <input type="hidden" name="domains" value="dengbiao.github.io">
                    <input type="hidden" name="sitesearch" value="dengbiao.github.io">
                </div>
            </form>

            <ul class="sidelist">
                <li><a href="http://dengbiao.github.io/atom.xml" class="rss" title="订阅"></a></li>
                <li><a href="http://dengbiao.github.io/pages/archive.html" class="archive" title="归档"></a></li>
            </ul>
            </header>

            <article>
            <div class="page_container">
    <div class="date">
        <span class="day">
            28
        </span>
        <span class="month">
            10
        </span>
    </div>
    <div class="page_item">
        
        <div class="title">
            <h1><a href="/2013/10/28/problem-summary-ubuntu.html">ubuntu问题汇总贴</a></h1>
        </div>
        
        
        <div class="page_content">
            <p><p>在使用ubuntu的过程中经常遇到各种各样的小问题，有时候觉得问题比较小，很容易通过google就解决了。但是，这些小问题其实挺消耗时间的。所以建立这个问题汇总贴。在使用ubuntu中遇到的各种小问题进行汇总。希望能够帮助遇到同样问题的人找到解决办法。同时，也是给自己的学习历程留下痕迹。</p>
<hr />
<h3 id="ubuntu">ubuntu用户添加</h3>

<p>以这段代码进行分析：<code>sudo useradd db -g tcteam -m -s /bin/bash</code></p>
<div class='highlight'><pre><code class='console'><span class='go'>db: 用户名 </span>
<span class='go'>tcteam: 用户组名  </span>
<span class='go'>-m: 同时创建用户目录  </span>
<span class='go'>-s /bin/bash : 指定shell为bash  </span>
</code></pre></div><!--more--><hr />
<h3 id="ubuntu_vi">ubuntu vi配置文件</h3>

<p>直接提供链接下载：<a href="/assets/uploads/vimrc.txt">ubuntu-vimrc</a></p>
<hr />
<h3 id="ubuntu_">ubuntu 终端忽略大小写</h3>

<p>在终端输入以下命令:<code>echo &quot;set completion-ignore-case on&quot;&gt;&gt;~/.inputrc</code></p>
<hr />
<h3 id="ubuntu_1210_dropbox_">ubuntu 12.10 安装dropbox失败 解决办法</h3>

<p>万恶的gfw。</p>

<p>ubuntu软件中心下载的dropbox安装完成后，用命令sudo dropbox start -i 安装失败。提示：</p>
<div class='highlight'><pre><code class='console'><span class='gp'>csumt@vivi-pc:~/Desktop$</span> sudo dropbox start -i
<span class='go'>Starting Dropbox</span>
<span class='go'>Dropbox is the easiest way to share and store your files online. Want to learn more? Head to http://www.dropbox.com/</span>
<span class='go'>Error: Trouble connecting to Dropbox servers. Maybe your internet connection is down, or you need to set your http_proxy environment variable.</span>
<span class='go'>URL that failed to download: http://www.dropbox.com/download?plat=lnx.x86_64</span>
<span class='go'>Error: [Errno 104] Connection reset by peer</span>
<span class='go'>The installation of Dropbox failed.</span>
</code></pre></div>
<p>顿时头痛不已。这么好用的东西难道就不能用？</p>

<p>万恶的GFW</p>

<p>google之。方法如下：</p>
<div class='highlight'><pre><code class='console'><span class='go'>1.去官网下载drobox安装包。我的是dropbox_1.4.0_amd64.deb  </span>
<span class='go'>2.然后下载dropbox-lnx.x86-1.6.17.tar。  </span>
<span class='go'>3.解压缩 dropbox-linux.tar.gz ，并将解压出来的 .dropbox-dist 文件夹放入你的 根目录，也就是 /home/你的名字 目录下（新版本的放到/var/lib/dropbox中，不然安装不了）  </span>
<span class='go'>4.安装dropbox_1.4.0_amd64.deb。  </span>
</code></pre></div>
<p>ok到此安装完毕。</p>
<hr />
<h3 id="ubuntu__uamp">ubuntu 下配置 uamp</h3>

<h4 id="1">1.准备工作</h4>

<p>如果之前安装过LAMP，不完整或者有错误，可以依照如下方式卸除：</p>

<pre><code>#apt-get remove --purge apache2 apache2-mpm-prefork apache2-utils apache2.2-common libapache2-mod-php5 #apt-get remove --purge libapr1 libaprutil1 libdbd-mysql-perl libdbi-perl libmysqlclient15off #apt-get remove --purge libnet-daemon-perl libplrpc-perl libpq5 mysql-client-5.0 mysql-common #apt-get remove --purge mysql-server mysql-server-5.0 php5-common php5-mysql  </code></pre>

<p>这将卸除一切LAMP有关的软件安装以及配置文件。然后执行：</p>
<!--more-->
<pre><code># rm -R /etc/php5</code></pre>

<p>将可能存在的php5的目录删除。</p>

<p>执行自动移除和清理：</p>

<pre><code># apt-get autoremove   
# apt-get autoclean</code></pre>

<h4 id="2lamp">2.安装LAMP</h4>

<p>在新立的里勾选LAMP SERVER即可。如果分布安装，则执行下面的命令：</p>

<pre><code># apt-get install apache2  
# apt-get install php5   
# apt-get install mysql-server libapache2-mod-auth-mysql php5-mysql</code></pre>

<p>这将自动安装并默认配置apache2、php5以及mysql。安装期间mysql会需求管理员账户密码。</p>

<p>apache2的默认的目录为/var/www，安装完后为root拥有。可以修改其权限：</p>

<pre><code># chmod -R 777 /var/www</code></pre>

<p>重新设置目录和apache2的更多配置信息，参阅Linux中配置apache2或参阅apache2官方http://www.apache.org/ 的文档。</p>

<p>设置php解析：</p>

<pre><code># apt-get install libapache2-mod-php5  
# a2enmod php5</code></pre>

<p>重启apache2：</p>

<pre><code># /etc/init.d/apache2 restart</code></pre>

<p>安装完成。</p>

<h4 id="3phpmyadmin">3.安装phpmyadmin</h4>

<p>可以到官网下载phpmyadmin：<a href="http://www.phpmyadmin.net/home_page/index.php">http://www.phpmyadmin.net/home_page/index.php</a> 或者直接获取：</p>

<pre><code># wget http://downloads.sourceforge.net/sourceforge/phpmyadmin/phpMyAdmin-3.2.0.1-all-languages.tar.gz</code></pre>

<p>将其解压到/var/www/下，复制其配置范例到配置文件：</p>
<hr />
<h3 id="ubuntudropbox">ubuntu安装dropbox</h3>

<p>在网上或者源里面下载dropbox之后，安装不成功。貌似是被墙了。google告诉我们在terminal中直接下载以下内容 并解压之后即可</p>

<pre><code>cd ~ &amp;&amp; wget -O - &quot;https://www.dropbox.com/download?plat=lnx.x86_64&quot; | tar xzf   </code></pre>

<p>新版本的0.7.1-12<code>https://dl-web.dropbox.com/u/17/dropbox-lnx.x86-1.6.17.tar.gz</code>在这个地址下载后要解压到<code>/var/lib/dropbox</code>下面</p>

<p>下载好之后可以用<code>~/.dropbox-dist/dropboxd</code> 便可运行</p>
<hr />
<h3 id="ubuntu__2">ubuntu触摸板失灵 解决办法</h3>

<p>在终端输入以下代码</p>

<pre><code>sudo modprobe -r psmouse  
sudo modprobe psmouse proto=imps    </code></pre>

<p>然后打开options文件：</p>

<pre><code>sudo gedit /etc/modprobe.d/options    </code></pre>

<p>添加 <code>options psmouse proto=imps</code></p>

<p>保存改动重启。</p>
<hr />
<h3 id="ubuntu_server_1204_mysql">ubuntu server 12.04 忘记mysql密码</h3>

<p>忘了mysql密码，从网上找到的解决方案记录在这里。 编辑mysql的配置文件<code>/etc/mysql/my.cnf</code>，在[mysqld]段下加入一行<code>&quot;skip-grant-tables&quot;</code>。</p>

<p>重启mysql服务</p>

<pre><code>abbuggy@abbuggy-ubuntu:~$ sudo service mysql restart  
mysql stop/waiting  
mysql start/running, process 18669  </code></pre>

<p>用空密码进入mysql管理命令行，切换到mysql库。</p>

<pre><code>abbuggy@abbuggy-ubuntu:~$ mysql  
Welcome to the MySQL monitor.  Commands end with ; or \g. 
mysql&gt; use mysql 
Database changed </code></pre>

<p>执行<code>update user set password=PASSWORD(&quot;new_pass&quot;) where user='root'</code>; 把密码重置为<code>new_pass</code>。退出数据库管理。</p>

<pre><code>mysql&gt; update user set password=PASSWORD(&quot;new_pass&quot;) where user='root';   
Query OK, 0 rows affected (0.00 sec)   
Rows matched: 4  Changed: 0  Warnings: 0   
mysql&gt;quit </code></pre>

<p>回到<code>vim /etc/mysql/my.cnf</code>，把刚才加入的那一行<code>&quot;skip-grant-tables&quot;</code>注释或删除掉。</p>

<p>再次重启mysql服务sudo service mysql restart，使用新的密码登陆，修改成功。</p>

<pre><code>abbuggy@abbuggy-ubuntu:~$ mysql -uroot -pnew_pass 
Welcome to the MySQL monitor.  Commands end with ; or \g. 
mysql&gt;</code></pre>
<hr />
<h3 id="ubuntu_gd__">ubuntu 支持GD 图形 水印</h3>

<p>ubuntu 支持GD 图形 水印 为支持更高级的图片显示功能需要安装GD图形支持</p>

<p>在ubuntu Server 下，装gd，命令为：</p>

<pre><code>sudo apt-get install php5-gd  </code></pre>

<p>重启apache：</p>

<pre><code>/etc/init.d/apache2 restart</code></pre>
<hr />
<h3 id="ubuntu_unzip_">ubuntu unzip 安装以及命令参数说明</h3>

<p>安装命令：</p>

<pre><code>sudo apt-get install unzip</code></pre>

<p>解压.zip文件命令：<code>unzip</code></p>

<p>unzip命令能够将被winzip压缩的文件解压。</p>

<p>unzip命令的执行方式为：</p>

<pre><code>unzip [-选项]  压缩文件名.zip</code></pre>

<p>例如想将file1.zip文件在当前目录下解压，则执行命令为：</p>

<pre><code>unzip  file1.zip</code></pre>

<p>如果只想查看压缩文件里的文件目录，但是并不想解压，则执行命令为：</p>

<pre><code># unzip -v file1.zip</code></pre>

<p>将file1.zip文件在/home/zip目录中进行解压，但是如有相同的文件则并不覆盖原文件，执行命令为：</p>

<pre><code>unzip -n file1.zip -d /home/zip </code></pre>

<p>unzip命令的选项参数说明:</p>

<pre><code>-v 查看文件目录列表，但不解压  
-d 将文件解压到指定目录中  
-n 不覆盖原来已经存在的文件  
-o 覆盖已存在的文件并且不需要用户确认  </code></pre>
<hr />
<h3 id="github_">github 提交记住用户名密码</h3>

<pre><code>git config --global credential.helper 'cache --timeout 3600'</code></pre>
<hr />
<h3 id="ubunturesolvconf">ubuntu重启后resolv.conf被清空</h3>

<p>其实这个问题很简单.resolv.conf文件是一个软链接,指向的是<code>/run/resolvconf/resolv.conf</code>文件.而这个文件的内容只有两行</p>

<pre><code>#Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
#DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN</code></pre>

<p>注意到这里的话,其实它很明确的告诉了我们不要手动去修改它,因为他会被覆盖的.</p>

<p>所以留给我们的办法就只有两个:</p>

<pre><code>1.修改`/etc/network/interfaces`文件的时候加入指定`nameserver`的记录
2.修改会用来覆盖resolv.conf文件的base文件(`/etc/resolvconf/resolv.conf.d/base`)</code></pre>

<p>第一种方法修改<code>etc/network/interface</code>文件内容,示例如下:</p>

<pre><code>iface eth0 inet static 
address 192.168.1.100 
netmask 255.255.255.0 
gateway 192.168.1.1 
dns-nameservers 202.197.64.6 8.8.8.8 </code></pre>

<p>第二种方法修改<code>/etc/resolvconf/resolv.conf.d/base</code>文件内容,示例如下:</p>

<pre><code>nameserver 202.197.64.6
nameserver 8.8.8.8</code></pre></p> 
        </div>


        <div class="page_comments" id="page_comments">
            <!-- Duoshuo Comment BEGIN -->
            <div class="ds-thread" data-thread-key="/2013/10/28/problem-summary-ubuntu" data-title="ubuntu问题汇总贴" ></div>
            <script type="text/javascript">
                var duoshuoQuery = {short_name:"dengbiao"};
(function() {
 var ds = document.createElement('script');
 ds.type = 'text/javascript';ds.async = true;
 ds.src = 'http://static.duoshuo.com/embed.js';
 ds.charset = 'UTF-8';
 (document.getElementsByTagName('head')[0] 
  || document.getElementsByTagName('body')[0]).appendChild(ds);
 })();
</script>
<!-- Duoshuo Comment END -->
    </div>
    </div>
</div>
<div class="clear"></div>


            </article>

            <footer>
            <p>
            Copyright @ 2013-2015 dengbiao | All Rights Reserved. Powered by <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> and <a href="http://getbootstrap.com/" target="_blank" >Bootstrap</a>. 
            </p>
            </footer>

        </div>

        <! --- backToTop js  -->
        <script>
            (function() {
                var $backToTopTxt = "", $backToTopEle = $('<div class="backToTop"></div>').appendTo($("body"))
                .text($backToTopTxt).attr("title", $backToTopTxt).click(function() {
                    $("html, body").animate({ scrollTop: 0 }, 120);
                    }), $backToTopFun = function() {
                    var st = $(document).scrollTop(), winh = $(window).height();
                    (st > 0)? $backToTopEle.fadeIn('slow') : $backToTopEle.fadeOut('slow');
                    //IE6下的定位
                    if (!window.XMLHttpRequest) {
                        $backToTopEle.css("top", st + winh - 166);
                    }
                };
                $(window).bind("scroll", $backToTopFun);
                $(function() { $backToTopFun(); });
            })();
        </script>

        <! --- google analytics  -->
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-45239189-1', 'dengbiao.github.io');
            ga('send', 'pageview');

        </script>

    </body>

</html>
