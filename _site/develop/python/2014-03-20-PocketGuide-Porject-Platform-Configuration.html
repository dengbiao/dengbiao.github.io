<!DOCTYPE html>
<html>

    <head>
        <meta charset=utf-8 />
        <meta name="renderer" content="webkit">
        <title>
              
                PocketGuide掌上导游项目开发第2篇-后台环境搭建 
            
        </title>
        
            <meta name="description" content=" 掌上导航项目后台开发环境搭建 ">
        
        
            <meta name="keywords" content="掌上导航安卓景点导航掌上导航后台环境搭建androidpythonflaskflask-sqlalchemysqlalchemy" >
        
        
            <meta name="author" content=" dengbiao ">
        
        <link rel="shortcut icon" type="image/ico" href="/assets/images/portrait.jpg">
        <link rel="stylesheet" href="/assets/css/clear.css" />
        
        <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
        <link rel="stylesheet" href="/assets/css/default.css" />
        <link rel="stylesheet" href="/assets/css/pygments.css" />
        <script src="/assets/js/jquery-1.10.2.min.js"></script>

    </head>

    <body>
        <div id="container main">
            <header>
            <div class="info">
                <div class="logo">
                    <a rel="nofollow" href="/pages/about.html"><img class="portrait img-circle" src="/assets/images/portrait.jpg" /></a>
                </div>
                <h1><a rel="nofollow" href="/">邓彪的博客</a></h1>
                <div class="motto">有一种东西叫做梦想</div>
            </div>
            <form method="get" action="http://www.google.com.hk/search" id="search-form">
                <div class="input-group input-group-sm header_search">
                    <input type="text" id="search-query" name="q" id="s" autocomplete="on" class="form-control" placeholder="Search">
                    <span class="input-group-addon text" >
                        <input type="submit" name="btnG" value="搜索" id="search-btn">
                    </span>
                    <input type="hidden" name="ie" value="UTF-8">
                    <input type="hidden" name="oe" value="UTF-8">
                    <input type="hidden" name="hl" value="zh-CN">
                    <input type="hidden" name="domains" value="dengbiao.github.io">
                    <input type="hidden" name="sitesearch" value="dengbiao.github.io">
                </div>
            </form>

            <ul class="sidelist">
                <li><a rel="nofollow"  href="http://dengbiao.github.io/atom.xml" class="rss" title="订阅"></a></li>
                <li><a rel="nofollow" href="http://dengbiao.github.io/pages/archive.html" class="archive" title="归档"></a></li>
            </ul>
            </header>

            <article>
            <div class="page_container">
    <div class="date">
        <span class="day">
            20
        </span>
        <span class="month">
            03
        </span>
    </div>
    <div class="page_item">
        
        <div class="title">
            <h1><a href="/develop/python/2014-03-20-PocketGuide-Porject-Platform-Configuration.html">PocketGuide掌上导游项目开发第2篇-后台环境搭建</a></h1>
        </div>
        
        
        <div class="page_content">
            <p><p>千里之行，始于足下。本文将讲解掌上导航项目（PocketGuide)的后台环境搭建。但是本文的内容并不会包含整个后台需要使用到的平台或者插件。因为很多东西是在使用过程中需要用到才会去安装的。暂时不会用到的东西咱们先不讲。不然你也看不懂不是。</p>

<h3 id="python">Python安装</h3>

<p>Python在Mac下是自带的，并不需要安装。所以使用mac的同学和朋友们并不需要这一步。直接跳过即可。<br />ubuntu的使用用户安装python命令如下：<code>sudo apt-get install python</code> 。然后等待安装完成即可。<br />如果你想自己安装python，<a href="http://legacy.python.org/ftp//python/">http://legacy.python.org/ftp//python/</a>这个链接里面有各个版本的安装包，下载下来然后自己配置安装即可。具体操作请自行google。参考方法<a href="http://blog.csdn.net/huhui_cs/article/details/8748419">http://blog.csdn.net/huhui_cs/article/details/8748419</a>。注意：本文不负责所有教学，也不提倡做一个伸手党。能力的提升靠的是一点点的积累，从不知道到知道，而不是简单的全部从别处索取。这样只会让人越来越愚钝。<strong><em>个人观点，不喜勿喷</em></strong>。</p>
<!--more-->
<h3 id="flask">Flask安装</h3>

<p>这个很简单，我也是参照官网来的，上链接<a href="http://flask.pocoo.org/docs/installation/#installation">http://flask.pocoo.org/docs/installation/#installation</a>,中文版链接<a href="http://docs.jinkan.org/docs/flask/installation.html">http://docs.jinkan.org/docs/flask/installation.html</a>，推荐看英文的，因为很多地方中文翻译的有问题，不是很好理解。当然，你也可以直接看中文的，这个个人喜好，不强求。 <br />因为安装这个的时候，我自己有些地方没理解好，遇到了些小问题。这里我自己粗略总结下流程：</p>

<h4 id="_virtualenv">第一步： 安装virtualenv</h4>

<p>其实这一步对于只用一个版本的python的人来说是可有可无的，甚至有的时候你会很奇怪为什么环境配置好了之后，下次来运行又说缺少包，其实是因为自己没有进入到这个virtualenv的环境中。但是还是强烈建议安装virtualenv，因为你不知道你下一个应用安装的版本和插件会不会和这个应用的冲突。简单的说，牛人的做法，当你还不是牛人的时候，先学着吧，等你牛了，别人就来学你的了。</p>

<p>mac用户命令（推荐）：</p>

<pre><code>sudo pip install virtualenv  </code></pre>

<p>或者（不推荐）：</p>

<pre><code>sudo easy_install virtualenv</code></pre>

<p>至于pip和easy_install的区别，stackoverflow上有人有具体分析，网址:<a href="http://stackoverflow.com/questions/3220404/why-use-pip-over-easy-install">http://stackoverflow.com/questions/3220404/why-use-pip-over-easy-install</a>,内容如下：</p>

<pre><code>1.All packages are downloaded before installation. Partially-completed installation doesn’t occur as a result.
2.Care is taken to present useful output on the console.
3.The reasons for actions are kept track of. For instance, if a package is being installed, pip keeps track of why that package was required.
4.Error messages should be useful.
5.The code is relatively concise and cohesive, making it easier to use programmatically.
6.Packages don’t have to be installed as egg archives, they can be installed flat (while keeping the egg metadata).
7.Native support for other version control systems (Git, Mercurial and Bazaar)
8.Uninstallation of packages.
9.Simple to define fixed sets of requirements and reliably reproduce a set of packages.</code></pre>

<h4 id="virtualenv">第二步：使用virtualenv</h4>

<pre><code>$ mkdir myproject
$ cd myproject
$ virtualenv venv
New python executable in venv/bin/python
Installing distribute............done.</code></pre>

<p>其中要说明的是参数问题：上面的三个命令中 <strong><em>myproject</em></strong> 和 <strong><em>venv</em></strong>为用户自定义参数，可以按照自己需求修改。特别是<strong><em>venv</em></strong>跟第三步的步骤相关。请带着思考的头脑跟进，不然你会在这个上面浪费很多时间。原谅我自己在这上面犯傻了。。。</p>

<h4 id="virtualenv_2">第三步：激活virtualenv环境</h4>

<pre><code>$ . venv/bin/activate</code></pre>

<p>其中的<strong><em>venv</em></strong> 为第二步中使用的参数。</p>

<h4 id="flask_2">第四步：安装Flask</h4>

<pre><code>pip install Flask</code></pre>

<p>完毕。</p>

<h3 id="mysqldb">安装mysqldb模块</h3>

<p>后面的程序会用到该模块，如果没有安装会遇到错误：<strong><em>No module named MySQLdb</em></strong></p>

<p>mac系统用户：</p>

<pre><code>pip install mysql-python</code></pre>

<p>ubuntu系统用户：</p>

<pre><code>sudo apt-get install  python-mysqldb</code></pre>

<h3 id="mysql">安装mysql</h3>

<p>装数据库插件之前，保证数据库已经装上，并且启动服务。</p>

<p>mac命令安装：</p>

<pre><code>brew install mysql </code></pre>

<p>ubuntu命令安装：</p>

<pre><code>sudo apt-get install mysql</code></pre>

<p>配置教程自行google.这里仅仅说一下mac下mysql配置。 <br />用<code>brew install mysql</code>安装成功之后，会出现以下提示：</p>

<pre><code>To connect:
mysql -uroot

To have launchd start mysql at login:
ln -sfv /usr/local/opt/mysql/*.plist ~/Library/LaunchAgents
Then to load mysql now:
launchctl load ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist
Or, if you do not want/need launchctl, you can just run:
mysql.server start  </code></pre>

<p>翻译成中文就是可以使用<code>mysql -uroot</code>进行连接。默认密码为空。 然后就是如果你想设置开机自动启动的操作步骤。如果你只希望在使用的时候启动mysql，则使用命令<code>mysql.server start</code>开启即可。</p>

<p>如果想设置mysql密码，可是使用命令<code>mysql_secure_installation  mysql</code>，提示输入root密码，直接回车即可，然后输入新密码，剩下的全部选择<strong><em>Y</em></strong>即可。</p>

<h3 id="flasksqlalchemy">安装Flask-SQLAlchemy</h3>

<p>Flask-SQLAlchemy是机遇SQLAlchemy的一个flask插件。还挺好用的。官网地址：<a href="http://flask.pocoo.org/docs/patterns/sqlalchemy/">http://flask.pocoo.org/docs/patterns/sqlalchemy/</a></p>

<p>mac安装命令,如果没有安装sqlalchemy，pip会自动帮你下载好：</p>

<pre><code>sudo pip install flask-sqlalchemy</code></pre>

<p>ubuntu下apt-get没有找到对应的包，所以从官网上下载了Flask-SQLAlchemy的安装包，解压，用命令<code>sudo python setup.py install</code>安装即可。中间遇到了问题<code>No module named setuptools</code>,很明显缺少了setuptoolls包， 安装命令跟上<code>sudo pip install setuptools</code>.</p></p> 
        </div>


        <div class="page_comments" id="page_comments">
            <!-- Duoshuo Comment BEGIN -->
            <div class="ds-thread" data-thread-key="/develop/python/PocketGuide-Porject-Platform-Configuration" data-title="PocketGuide掌上导游项目开发第2篇-后台环境搭建" ></div>
            <script type="text/javascript">
                var duoshuoQuery = {short_name:"dengbiao"};
(function() {
 var ds = document.createElement('script');
 ds.type = 'text/javascript';ds.async = true;
 ds.src = 'http://static.duoshuo.com/embed.js';
 ds.charset = 'UTF-8';
 (document.getElementsByTagName('head')[0] 
  || document.getElementsByTagName('body')[0]).appendChild(ds);
 })();
</script>
<!-- Duoshuo Comment END -->
    </div>
    </div>
</div>
<div class="clear"></div>


            </article>

            <footer>
            <p>
            Copyright @ 2013-2015 dengbiao | All Rights Reserved. Powered by <a rel="nofollow" href="http://jekyllrb.com/" target="_blank">Jekyll</a> and <a rel="nofollow" href="http://getbootstrap.com/" target="_blank" >Bootstrap</a>. 
            </p>
            </footer>

        </div>

        <! --- backToTop js  -->
        <script>
            (function() {
                var $backToTopTxt = "", $backToTopEle = $('<div class="backToTop"></div>').appendTo($("body"))
                .text($backToTopTxt).attr("title", $backToTopTxt).click(function() {
                    $("html, body").animate({ scrollTop: 0 }, 120);
                    }), $backToTopFun = function() {
                    var st = $(document).scrollTop(), winh = $(window).height();
                    (st > 0)? $backToTopEle.fadeIn('slow') : $backToTopEle.fadeOut('slow');
                    //IE6下的定位
                    if (!window.XMLHttpRequest) {
                        $backToTopEle.css("top", st + winh - 166);
                    }
                };
                $(window).bind("scroll", $backToTopFun);
                $(function() { $backToTopFun(); });
            })();
        </script>

        <! --- google analytics  -->
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-45239189-1', 'dengbiao.github.io');
            ga('send', 'pageview');

        </script>

    </body>

</html>
